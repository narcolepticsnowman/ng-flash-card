/*! ngFlashCard 2015-02-20 */
angular.module("ngFlashCard",[]).directive("flashCardSet",[function(){return{scope:{cardGroups:"="},controller:["$scope",function(a){a.selectedGroups=[],a.activeGroup=0,a.activeCard=0,a.backFirst=!1;var b=function(){a.activeGroup--,a.activeGroup<0&&(a.activeGroup=a.cardGroups.length-1)};a.previous=function(){var c=a.activeGroup;if(a.activeCard--,a.activeCard<0){for(b();a.selectedGroups[a.activeGroup]===!1&&(b(),a.activeGroup!==c););a.activeCard=a.cardGroups[a.activeGroup].cards.length-1}};var c=function(){a.activeGroup++,a.activeGroup>=a.cardGroups.length&&(a.activeGroup=0)};a.next=function(b){var d=a.activeGroup;if(a.activeCard++,b||a.activeCard>=a.cardGroups[a.activeGroup].cards.length)for(a.activeCard=0,c();a.selectedGroups[a.activeGroup]===!1&&(c(),a.activeGroup!==d););},a.$watch("selectedGroups",function(a,b,c){for(var d=0;d<a.length;d++)a[d]===!1&&c.activeGroup===d&&c.next(!0)},!0)}],template:'<div class="container-fluid ngFlashCard-cardSet ngFlashCard-fullHeight"><div class="row ngFlashCard-fullHeight"><ul class="ngFlashCard-groupSelector col-sm-3 list-group"><li ng-repeat="cardGroup in cardGroups" class="list-group-item"><input type="checkbox" ng-model="selectedGroups[$index]" ng-init="selectedGroups[$index] = true"/>{{cardGroup.name}}</li></ul><div class="well well-sm text-center col-sm-9 ngFlashCard-fullHeight ngFlashCard-wrapper"><div class="ngFlashCard-cardHeader"><div class="ngFlashCard-pageButton" ng-click="previous()" >Previous</div><div class="ngFlashCard-backFirst"><input type="checkbox" ng-model="backFirst">Answers First</div><div class="ngFlashCard-pageButton" ng-click="next()" >Next</div></div><div class="ngFlashCard-cardGroup" ng-repeat="cardGroup in cardGroups" ng-if="selectedGroups[$index] && activeGroup === $index"><div class="ngFlashCard-fullHeight" ng-repeat="card in cardGroup.cards" ng-if="activeCard === $index"><pre class="ngFlashCard-card ngFlashCard-fullHeight" ng-click="flipped = !flipped" ng-init="flipped=false"><h1>{{flipped ? backFirst ? card.front : card.back : backFirst ? card.back : card.front}}</h1></pre></div></div></div></div></div>'}}]);