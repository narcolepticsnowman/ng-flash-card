/*! ngFlashCard 2015-02-20 */
angular.module("ngFlashCard",[]),angular.module("ngFlashCard").directive("flashCard",[function(){return{controller:["$scope",function(a){a.flipped=!1,a.active=0,a.flip=function(){a.flipped=!a.flipped}}],template:'<div class="card" ng-click="flip()" ng-show="activeCard === $index">{{flipped ? card.back : card.front}}</div>'}}]),angular.module("ngFlashCard").directive("flashCardSet",[function(){return{scope:{cardGroups:"="},controller:["$scope",function(a){a.selectedGroups=[],a.activeGroup=0,a.activeCard=0,a.previous=function(){a.activeCard--,a.activeCard<0&&(a.activeGroup--,a.activeGroup<0&&(a.activeGroup=a.cardGroups.length-1),a.activeCard=a.cardGroups[a.activeGroup].cards.length-1)},a.next=function(b){var c=a.activeGroup;if(a.activeCard++,b||a.activeCard>=a.cardGroups[a.activeGroup].cards.length)for(a.activeGroup++,a.activeCard=0,a.activeGroup>=a.cardGroups.length&&(a.activeGroup=0);a.selectedGroups[a.activeGroup]===!1&&(a.activeGroup++,a.activeCard=0,a.activeGroup>=a.cardGroups.length&&(a.activeGroup=0),a.activeGroup!==c););},a.$watch("selectedGroups",function(a,b,c){for(var d=0;d<a.length;d++)a[d]===!1&&c.activeGroup===d&&c.next(!0)},!0)}],template:'<div><ul class="form-group cardGroupSelector"><li ng-repeat="cardGroup in cardGroups"><input type="checkbox" ng-model="selectedGroups[$index]" ng-init="selectedGroups[$index] = true"/>{{cardGroup.name}}</li></ul><div class="previousButton" ng-click="previous()">&lt;</div> <div class="nextButton" ng-click="next()">&gt;</div><div ng-repeat="cardGroup in cardGroups" ng-show="selectedGroups[$index] && activeGroup === $index"><div ng-repeat="card in cardGroup.cards" flash-card card="card"/></div><div>'}}]);